<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/lfr-forms-docs/styles.75105c92a002ae2b4b8d.css">code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.chapter-link a{color:#272833;text-decoration:none}.chapter-link a:visited{color:#6b6c7e;text-decoration:none}.chapter-link .chapter-index{font-size:150%}.table-of-contents{padding:2rem 0}.table-of-contents-chapter{margin-bottom:2rem}.table-of-contents .chapter-link{font-size:125%}.table-of-contents .chapter-description{padding-left:1rem}</style><meta name="generator" content="Gatsby 2.20.12"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">História | Liferay Forms - Documentação</title><meta data-react-helmet="true" name="description" content="Documentação da arquitetura utilizada para implementar o Liferay Forms."/><meta data-react-helmet="true" property="og:title" content="História"/><meta data-react-helmet="true" property="og:description" content="Documentação da arquitetura utilizada para implementar o Liferay Forms."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@liferay"/><meta data-react-helmet="true" name="twitter:title" content="História"/><meta data-react-helmet="true" name="twitter:description" content="Documentação da arquitetura utilizada para implementar o Liferay Forms."/><link rel="icon" href="/lfr-forms-docs/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="manifest" href="/lfr-forms-docs/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/lfr-forms-docs/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="72x72" href="/lfr-forms-docs/icons/icon-72x72.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="96x96" href="/lfr-forms-docs/icons/icon-96x96.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="144x144" href="/lfr-forms-docs/icons/icon-144x144.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="192x192" href="/lfr-forms-docs/icons/icon-192x192.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="256x256" href="/lfr-forms-docs/icons/icon-256x256.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="384x384" href="/lfr-forms-docs/icons/icon-384x384.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="512x512" href="/lfr-forms-docs/icons/icon-512x512.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link as="script" rel="preload" href="/lfr-forms-docs/webpack-runtime-5c83b0c36b95088ee901.js"/><link as="script" rel="preload" href="/lfr-forms-docs/framework-624f79e66261973aaa49.js"/><link as="script" rel="preload" href="/lfr-forms-docs/app-a11bf876fdf1e027fbc6.js"/><link as="script" rel="preload" href="/lfr-forms-docs/styles-36681512479a843831b0.js"/><link as="script" rel="preload" href="/lfr-forms-docs/commons-41607989188aa9047a31.js"/><link as="script" rel="preload" href="/lfr-forms-docs/component---src-components-chapter-js-9f1293cc0076c64480c3.js"/><link as="fetch" rel="preload" href="/lfr-forms-docs/page-data/history/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/lfr-forms-docs/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header style="background:#30313f;color:#6B6C7E;margin-bottom:1.45rem"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0"><a style="color:white;text-decoration:none" href="/lfr-forms-docs/">Liferay Forms - Documentação</a></h1></div></header><div style="margin:0 auto;max-width:960px;padding:0 1.0875rem 1.45rem"><main><div class="chapter"><div class="chapter-content"><h1 id="da-onde-veio-o-forms" style="position:relative;"><a href="#da-onde-veio-o-forms" aria-label="da onde veio o forms permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Da onde veio o Forms?</h1>
<p>O portlet de Forms que temos hoje no Liferay DXP é um reflexo de evoluções e adaptações de soluções mais antigas desenvolvidas pela Liferay. Em meados de 2010, Michael Han percebeu nos nossos clientes a necesidade de se adaptar o banco de dados do Liferay para suportar customizações que eram muito comuns ao se implantar um sistema com Liferay. Baseado nessa necessidade, ele idealizou um sistema onde um usuário poderia modelar um banco de dados utilizando a própria UI do Liferay sem a necessidade de programação ou de alterar o banco de dados do próprio Liferay através de SQL.</p>
<p>Esse sistema recebeu o nome de Dynamic Data Lists. Com ele veio a <a href="https://github.com/liferay/alloy-ui/commit/99b3c5d0d09c1867e8b9962ea4fe95f383611b07#diff-ef9f2ea7373eb89698ac6953359e5a8d">primeira implementação de um Form Builder pela Liferay</a>. Um componente que se utlizava de Drag and Drop onde o usuário poderia arrastar os campos do banco de dados que desejava criar. A implementação foi feita utilizando o framework adotado pela Liferay na época: <a href="http://alloyui.com/">AlloyUI</a>.</p>
<h1 id="tá-e-o-que-aconteceu-de-lá-pra-cá" style="position:relative;"><a href="#t%C3%A1-e-o-que-aconteceu-de-l%C3%A1-pra-c%C3%A1" aria-label="tá e o que aconteceu de lá pra cá permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tá! E o que aconteceu de lá pra cá?</h1>
<p>Desde o começo de sua implementação em Janeiro de 2011 (há mais de 9 anos atrás), o Form Builder passou por vários ciclos de bug fixing, melhorias e reescritas. Por volta de 2014 ele foi reescrito ainda em AlloyUI para suportar <strong>Layouts</strong>: Uma feature que permitia que o usuário criasse um formulário com multiplas <strong>linhas e colunas</strong>. Nessa época a Liferay Brasil tinha acabado de contratar seus primeiros designers e aproveitou essa reescrita para fazer melhorias na UI. Uma dessas "melhorias" foi a <strong>remoção do Drag and Drop</strong> porque alguns feedbacks sobre o produto diziam que ele tornava a aplicação muito complexa.</p>
<p>Essa remoção acabou não sendo muito bem aceita pelos usuários do produto e algum tempo depois, o <strong>Drag and Drop foi adicionado novamente</strong>. Adicionar o Drag and Drop de volta dessa vez não foi tão trivial porque o Form Builder tinha sido reescrito sem esse requisito em mente.</p>
<p>E o Form Builder ficou nesse estado durante um bom tempo. Algumas melhorias foram sendo implementadas aos poucos, mas a maiora das mudanças eram bug fixes. Nessa época o departamento de Front End da empresa estava focada na construção de um novo framework para se desenvolver aplicações, pois o <strong>AlloyUI estava depreciado</strong> (porque o framework em cima do qual ele foi construido foi depreciado).</p>
<p><strong>A Liferay lançou seu novo framwork - o <a href="/metal">Metal.js</a> -</strong> por volta de 2016 e foi migrando todos os portlets para usar esse framework aos poucos. Após algum tempo, AlloyUI dentro do portal era a minoria e o Form Builder era uma deles. O time de Front End Infrastructure começou a pressionar para a remoção de todo código que utilizasse AlloyUI do portal. Por volta de 2018 o time conseguiu convencer o gerente de produto de que era necessário investir algum tempo para modernizar o código, já que ter um produto feito em cima de um framework que não era mais mantido era um risco.</p>
<p>Foi então que a impementação que temos hoje começou a ser feita. O prazo era curto e a aplicação já tinhas muitos anos de história (requerimentos e edge cases a serem tratados). Uma das grandes dificuldades era que não existia padrão em vigor para se desenvolver aplicações do porte do Forms em metal. O próprio time teve que pensar em alguma forma de gerenciar estado de uma forma que fosse organizada e escalável. Mais a frente vamos ver como o <a href="/boomerang">Efeito Boomerang</a> foi concebido para resolver este problema.</p>
<h1 id="resumo-da-ópera" style="position:relative;"><a href="#resumo-da-%C3%B3pera" aria-label="resumo da ópera permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resumo da ópera</h1>
<p>Essa história toda é pra dizer que o Forms é uma aplicação complexa, com muita bagagem histórica e várias reescritas por pessoas diferentes e às vezes sem muito conhecimento das ferramentas (porque essas ferramentas não viveram o suficiente para serem bem documentadas). Isso faz com que o código possa não fazer sentido muitas vezes, mas o intuito desse documento é justamente tentar esclarecer o que estiver sombrio :)</p></div></div></main><footer>© <!-- -->2020<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/history";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-a11bf876fdf1e027fbc6.js"],"component---src-components-chapter-js":["/component---src-components-chapter-js-9f1293cc0076c64480c3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0ebcf1327e0fd8b9bed9.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ee47f98d5429b2dd3b85.js"]};/*]]>*/</script><script src="/lfr-forms-docs/component---src-components-chapter-js-9f1293cc0076c64480c3.js" async=""></script><script src="/lfr-forms-docs/commons-41607989188aa9047a31.js" async=""></script><script src="/lfr-forms-docs/styles-36681512479a843831b0.js" async=""></script><script src="/lfr-forms-docs/app-a11bf876fdf1e027fbc6.js" async=""></script><script src="/lfr-forms-docs/framework-624f79e66261973aaa49.js" async=""></script><script src="/lfr-forms-docs/webpack-runtime-5c83b0c36b95088ee901.js" async=""></script></body></html>